<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚˜ë¼ ê²Œì„ for LEO</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 600px;
            width: 90%;
            text-align: center;
        }

        h1 {
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .game-selection, .difficulty-selection, .game-area {
            display: none;
        }

        .game-selection.active, .difficulty-selection.active, .game-area.active {
            display: block;
        }

        .button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            margin: 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .difficulty-hard {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        }

        .difficulty-medium {
            background: linear-gradient(45deg, #feca57, #ff9ff3);
        }

        .difficulty-easy {
            background: linear-gradient(45deg, #48dbfb, #0abde3);
        }

        .flag {
            width: 200px;
            height: 120px;
            border: 3px solid #ddd;
            border-radius: 10px;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            background: #f8f9fa;
        }

        .question {
            font-size: 1.5em;
            margin: 20px 0;
            color: #333;
        }

        .input-area {
            margin: 20px 0;
        }

        .answer-input {
            padding: 15px;
            font-size: 18px;
            border: 2px solid #ddd;
            border-radius: 10px;
            width: 300px;
            margin: 10px;
            text-align: center;
        }

        .answer-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .score-info {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: flex;
            justify-content: space-around;
        }

        .feedback {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
        }

        .correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .game-over {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }

        .game-over h2 {
            margin-bottom: 20px;
            font-size: 2em;
        }

        .final-score {
            font-size: 3em;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ ë‚˜ë¼ ê²Œì„ for LEO</h1>
        
        <!-- ê²Œì„ ì„ íƒ í™”ë©´ -->
        <div class="game-selection active">
            <h2>ê²Œì„ì„ ì„ íƒí•˜ì„¸ìš”</h2>
            <button class="button" onclick="selectGame('flag-to-country')">
                ğŸ³ï¸ êµ­ê¸° ë³´ê³  ë‚˜ë¼ ë§ì¶”ê¸°
            </button>
            <button class="button" onclick="selectGame('country-to-capital')">
                ğŸ›ï¸ ë‚˜ë¼ ë³´ê³  ìˆ˜ë„ ë§ì¶”ê¸°
            </button>
            <button class="button" onclick="selectGame('capital-to-country')">
                ğŸ™ï¸ ìˆ˜ë„ ë³´ê³  ë‚˜ë¼ ë§ì¶”ê¸°
            </button>
        </div>

        <!-- ë‚œì´ë„ ì„ íƒ í™”ë©´ -->
        <div class="difficulty-selection">
            <h2>ë‚œì´ë„ë¥¼ ì„ íƒí•˜ì„¸ìš”</h2>
            <button class="button difficulty-hard" onclick="selectDifficulty('hard')">
                ğŸ”¥ ìƒ (30ì )
            </button>
            <button class="button difficulty-medium" onclick="selectDifficulty('medium')">
                âš¡ ì¤‘ (20ì )
            </button>
            <button class="button difficulty-easy" onclick="selectDifficulty('easy')">
                âœ¨ í•˜ (10ì )
            </button>
            <br>
            <button class="button" onclick="goBack()" style="background: #6c757d; margin-top: 20px;">
                â† ë’¤ë¡œê°€ê¸°
            </button>
        </div>

        <!-- ê²Œì„ í™”ë©´ -->
        <div class="game-area">
            <div class="score-info">
                <div>ì ìˆ˜: <span id="score">0</span></div>
                <div>í‹€ë¦° íšŸìˆ˜: <span id="mistakes">0</span>/3</div>
                <div>ë¬¸ì œ: <span id="question-number">1</span></div>
            </div>

            <div id="question-content"></div>
            
            <div class="input-area">
                <input type="text" id="answer-input" class="answer-input" placeholder="ë‹µì„ ì…ë ¥í•˜ì„¸ìš”" onkeypress="handleKeyPress(event)">
                <br>
                <button class="button" onclick="submitAnswer()">ì œì¶œ</button>
                <button class="button" onclick="skipQuestion()" style="background: #6c757d;">ê±´ë„ˆë›°ê¸°</button>
            </div>

            <div id="feedback"></div>

            <button class="button" onclick="goToMenu()" style="background: #6c757d; margin-top: 20px;">
                ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°
            </button>
        </div>
    </div>

    <script>
        // ê²Œì„ ë°ì´í„°
        const gameData = {
            easy: [
                { name: "ëŒ€í•œë¯¼êµ­", capital: "ì„œìš¸", flag: "ğŸ‡°ğŸ‡·" },
                { name: "ì¼ë³¸", capital: "ë„ì¿„", flag: "ğŸ‡¯ğŸ‡µ" },
                { name: "ì¤‘êµ­", capital: "ë² ì´ì§•", flag: "ğŸ‡¨ğŸ‡³" },
                { name: "ë¯¸êµ­", capital: "ì›Œì‹±í„´", flag: "ğŸ‡ºğŸ‡¸" },
                { name: "ì˜êµ­", capital: "ëŸ°ë˜", flag: "ğŸ‡¬ğŸ‡§" },
                { name: "í”„ë‘ìŠ¤", capital: "íŒŒë¦¬", flag: "ğŸ‡«ğŸ‡·" },
                { name: "ë…ì¼", capital: "ë² ë¥¼ë¦°", flag: "ğŸ‡©ğŸ‡ª" },
                { name: "ì´íƒˆë¦¬ì•„", capital: "ë¡œë§ˆ", flag: "ğŸ‡®ğŸ‡¹" },
                { name: "ìŠ¤í˜ì¸", capital: "ë§ˆë“œë¦¬ë“œ", flag: "ğŸ‡ªğŸ‡¸" },
                { name: "ëŸ¬ì‹œì•„", capital: "ëª¨ìŠ¤í¬ë°”", flag: "ğŸ‡·ğŸ‡º" },
                { name: "ë„¤ëœë€ë“œ", capital: "ì•”ìŠ¤í…Œë¥´ë‹´", flag: "ğŸ‡³ğŸ‡±" },
                { name: "ë²¨ê¸°ì—", capital: "ë¸Œë¤¼ì…€", flag: "ğŸ‡§ğŸ‡ª" },
                { name: "ìŠ¤ìœ„ìŠ¤", capital: "ë² ë¥¸", flag: "ğŸ‡¨ğŸ‡­" },
                { name: "ì˜¤ìŠ¤íŠ¸ë¦¬ì•„", capital: "ë¹ˆ", flag: "ğŸ‡¦ğŸ‡¹" },
                { name: "í¬ë¥´íˆ¬ê°ˆ", capital: "ë¦¬ìŠ¤ë³¸", flag: "ğŸ‡µğŸ‡¹" },
                { name: "ê·¸ë¦¬ìŠ¤", capital: "ì•„í…Œë„¤", flag: "ğŸ‡¬ğŸ‡·" },
                { name: "ë…¸ë¥´ì›¨ì´", capital: "ì˜¤ìŠ¬ë¡œ", flag: "ğŸ‡³ğŸ‡´" },
                { name: "ìŠ¤ì›¨ë´", capital: "ìŠ¤í†¡í™€ë¦„", flag: "ğŸ‡¸ğŸ‡ª" },
                { name: "ë´ë§ˆí¬", capital: "ì½”íœí•˜ê²", flag: "ğŸ‡©ğŸ‡°" },
                { name: "í•€ë€ë“œ", capital: "í—¬ì‹±í‚¤", flag: "ğŸ‡«ğŸ‡®" },
                { name: "í´ë€ë“œ", capital: "ë°”ë¥´ìƒ¤ë°”", flag: "ğŸ‡µğŸ‡±" },
                { name: "ì²´ì½”", capital: "í”„ë¼í•˜", flag: "ğŸ‡¨ğŸ‡¿" },
                { name: "í—ê°€ë¦¬", capital: "ë¶€ë‹¤í˜ìŠ¤íŠ¸", flag: "ğŸ‡­ğŸ‡º" },
                { name: "ì•„ì¼ëœë“œ", capital: "ë”ë¸”ë¦°", flag: "ğŸ‡®ğŸ‡ª" },
                { name: "ì´ìŠ¤ë¼ì—˜", capital: "ì˜ˆë£¨ì‚´ë ˜", flag: "ğŸ‡®ğŸ‡±" },
                { name: "ì‚¬ìš°ë””ì•„ë¼ë¹„ì•„", capital: "ë¦¬ì•¼ë“œ", flag: "ğŸ‡¸ğŸ‡¦" },
                { name: "ì¸ë„ë„¤ì‹œì•„", capital: "ìì¹´ë¥´íƒ€", flag: "ğŸ‡®ğŸ‡©" },
                { name: "ì‹±ê°€í¬ë¥´", capital: "ì‹±ê°€í¬ë¥´", flag: "ğŸ‡¸ğŸ‡¬" },
                { name: "ë§ë ˆì´ì‹œì•„", capital: "ì¿ ì•Œë¼ë£¸í‘¸ë¥´", flag: "ğŸ‡²ğŸ‡¾" },
                { name: "í•„ë¦¬í•€", capital: "ë§ˆë‹ë¼", flag: "ğŸ‡µğŸ‡­" },
                { name: "ë² íŠ¸ë‚¨", capital: "í•˜ë…¸ì´", flag: "ğŸ‡»ğŸ‡³" },
                { name: "ë‰´ì§ˆëœë“œ", capital: "ì›°ë§í„´", flag: "ğŸ‡³ğŸ‡¿" },
                { name: "ì•„ë¥´í—¨í‹°ë‚˜", capital: "ë¶€ì—ë…¸ìŠ¤ì•„ì´ë ˆìŠ¤", flag: "ğŸ‡¦ğŸ‡·" },
                { name: "ì¹ ë ˆ", capital: "ì‚°í‹°ì•„ê³ ", flag: "ğŸ‡¨ğŸ‡±" },
                { name: "ì´ì§‘íŠ¸", capital: "ì¹´ì´ë¡œ", flag: "ğŸ‡ªğŸ‡¬" },
                { name: "ë‚¨ì•„í”„ë¦¬ì¹´ê³µí™”êµ­", capital: "ì¼€ì´í”„íƒ€ìš´", flag: "ğŸ‡¿ğŸ‡¦" },
                { name: "ìš°í¬ë¼ì´ë‚˜", capital: "í‚¤ì˜ˆí”„", flag: "ğŸ‡ºğŸ‡¦" },
                { name: "ë² ë„¤ìˆ˜ì—˜ë¼", capital: "ì¹´ë¼ì¹´ìŠ¤", flag: "ğŸ‡»ğŸ‡ª" },
                { name: "ì¿ ë°”", capital: "ì•„ë°”ë‚˜", flag: "ğŸ‡¨ğŸ‡º" },
                { name: "ì½œë¡¬ë¹„ì•„", capital: "ë³´ê³ íƒ€", flag: "ğŸ‡¨ğŸ‡´" }
            ],
            medium: [
                { name: "ìºë‚˜ë‹¤", capital: "ì˜¤íƒ€ì™€", flag: "ğŸ‡¨ğŸ‡¦" },
                { name: "í˜¸ì£¼", capital: "ìº”ë²„ë¼", flag: "ğŸ‡¦ğŸ‡º" },
                { name: "ë¸Œë¼ì§ˆ", capital: "ë¸Œë¼ì§ˆë¦¬ì•„", flag: "ğŸ‡§ğŸ‡·" },
                { name: "ì¸ë„", capital: "ë‰´ë¸ë¦¬", flag: "ğŸ‡®ğŸ‡³" },
                { name: "ë©•ì‹œì½”", capital: "ë©•ì‹œì½”ì‹œí‹°", flag: "ğŸ‡²ğŸ‡½" },
                { name: "í„°í‚¤", capital: "ì•™ì¹´ë¼", flag: "ğŸ‡¹ğŸ‡·" },
                { name: "íƒœêµ­", capital: "ë°©ì½•", flag: "ğŸ‡¹ğŸ‡­" },
                { name: "ì´ë€", capital: "í…Œí—¤ë€", flag: "ğŸ‡®ğŸ‡·" },
                { name: "ì´ë¼í¬", capital: "ë°”ê·¸ë‹¤ë“œ", flag: "ğŸ‡®ğŸ‡¶" },
                { name: "íŒŒí‚¤ìŠ¤íƒ„", capital: "ì´ìŠ¬ë¼ë§ˆë°”ë“œ", flag: "ğŸ‡µğŸ‡°" },
                { name: "ë°©ê¸€ë¼ë°ì‹œ", capital: "ë‹¤ì¹´", flag: "ğŸ‡§ğŸ‡©" },
                { name: "ìŠ¤ë¦¬ë‘ì¹´", capital: "ì½œë¡¬ë³´", flag: "ğŸ‡±ğŸ‡°" },
                { name: "ë¯¸ì–€ë§ˆ", capital: "ë„¤í”¼ë„", flag: "ğŸ‡²ğŸ‡²" },
                { name: "ìº„ë³´ë””ì•„", capital: "í”„ë†ˆíœ", flag: "ğŸ‡°ğŸ‡­" },
                { name: "ë¼ì˜¤ìŠ¤", capital: "ë¹„ì—”í‹°ì•ˆ", flag: "ğŸ‡±ğŸ‡¦" },
                { name: "ë„¤íŒ”", capital: "ì¹´íŠ¸ë§Œë‘", flag: "ğŸ‡³ğŸ‡µ" },
                { name: "ëª°ë””ë¸Œ", capital: "ë§ë ˆ", flag: "ğŸ‡²ğŸ‡»" },
                { name: "ì•„í”„ê°€ë‹ˆìŠ¤íƒ„", capital: "ì¹´ë¶ˆ", flag: "ğŸ‡¦ğŸ‡«" },
                { name: "ìš”ë‹¨", capital: "ì•”ë§Œ", flag: "ğŸ‡¯ğŸ‡´" },
                { name: "ë ˆë°”ë…¼", capital: "ë² ì´ë£¨íŠ¸", flag: "ğŸ‡±ğŸ‡§" },
                { name: "ì‹œë¦¬ì•„", capital: "ë‹¤ë§ˆìŠ¤ì¿ ìŠ¤", flag: "ğŸ‡¸ğŸ‡¾" },
                { name: "ì˜ˆë©˜", capital: "ì‚¬ë‚˜", flag: "ğŸ‡¾ğŸ‡ª" },
                { name: "ì˜¤ë§Œ", capital: "ë¬´ìŠ¤ì¹´íŠ¸", flag: "ğŸ‡´ğŸ‡²" },
                { name: "ì•„ëì—ë¯¸ë¦¬íŠ¸", capital: "ì•„ë¶€ë‹¤ë¹„", flag: "ğŸ‡¦ğŸ‡ª" },
                { name: "ì¹´íƒ€ë¥´", capital: "ë„í•˜", flag: "ğŸ‡¶ğŸ‡¦" },
                { name: "ë°”ë ˆì¸", capital: "ë§ˆë‚˜ë§ˆ", flag: "ğŸ‡§ğŸ‡­" },
                { name: "ì¿ ì›¨ì´íŠ¸", capital: "ì¿ ì›¨ì´íŠ¸ì‹œí‹°", flag: "ğŸ‡°ğŸ‡¼" },
                { name: "ì•Œì œë¦¬", capital: "ì•Œì œ", flag: "ğŸ‡©ğŸ‡¿" },
                { name: "ëª¨ë¡œì½”", capital: "ë¼ë°”íŠ¸", flag: "ğŸ‡²ğŸ‡¦" },
                { name: "íŠ€ë‹ˆì§€", capital: "íŠ€ë‹ˆìŠ¤", flag: "ğŸ‡¹ğŸ‡³" },
                { name: "ë¦¬ë¹„ì•„", capital: "íŠ¸ë¦¬í´ë¦¬", flag: "ğŸ‡±ğŸ‡¾" },
                { name: "ìˆ˜ë‹¨", capital: "í•˜ë¥´íˆ¼", flag: "ğŸ‡¸ğŸ‡©" },
                { name: "ì—í‹°ì˜¤í”¼ì•„", capital: "ì•„ë””ìŠ¤ì•„ë°”ë°”", flag: "ğŸ‡ªğŸ‡¹" },
                { name: "ì¼€ëƒ", capital: "ë‚˜ì´ë¡œë¹„", flag: "ğŸ‡°ğŸ‡ª" },
                { name: "íƒ„ìë‹ˆì•„", capital: "ë„ë„ë§ˆ", flag: "ğŸ‡¹ğŸ‡¿" },
                { name: "ìš°ê°„ë‹¤", capital: "ìº„íŒ”ë¼", flag: "ğŸ‡ºğŸ‡¬" },
                { name: "ê°€ë‚˜", capital: "ì•„í¬ë¼", flag: "ğŸ‡¬ğŸ‡­" },
                { name: "ë‚˜ì´ì§€ë¦¬ì•„", capital: "ì•„ë¶€ì", flag: "ğŸ‡³ğŸ‡¬" },
                { name: "ì„¸ë„¤ê°ˆ", capital: "ë‹¤ì¹´ë¥´", flag: "ğŸ‡¸ğŸ‡³" },
                { name: "í˜ë£¨", capital: "ë¦¬ë§ˆ", flag: "ğŸ‡µğŸ‡ª" }
            ],
            hard: [
                { name: "ìš°ì¦ˆë² í‚¤ìŠ¤íƒ„", capital: "íƒ€ìŠˆì¼„íŠ¸", flag: "ğŸ‡ºğŸ‡¿" },
                { name: "ì¹´ìíìŠ¤íƒ„", capital: "ëˆ„ë¥´ìˆ íƒ„", flag: "ğŸ‡°ğŸ‡¿" },
                { name: "ëª½ê³¨", capital: "ìš¸ë€ë°”í† ë¥´", flag: "ğŸ‡²ğŸ‡³" },
                { name: "ë¦¬íˆ¬ì•„ë‹ˆì•„", capital: "ë¹Œë‰´ìŠ¤", flag: "ğŸ‡±ğŸ‡¹" },
                { name: "ë¼íŠ¸ë¹„ì•„", capital: "ë¦¬ê°€", flag: "ğŸ‡±ğŸ‡»" },
                { name: "ì—ìŠ¤í† ë‹ˆì•„", capital: "íƒˆë¦°", flag: "ğŸ‡ªğŸ‡ª" },
                { name: "ìŠ¬ë¡œë² ë‹ˆì•„", capital: "ë¥˜ë¸”ë´ë‚˜", flag: "ğŸ‡¸ğŸ‡®" },
                { name: "í¬ë¡œì•„í‹°ì•„", capital: "ìê·¸ë ˆë¸Œ", flag: "ğŸ‡­ğŸ‡·" },
                { name: "ë¶ˆê°€ë¦¬ì•„", capital: "ì†Œí”¼ì•„", flag: "ğŸ‡§ğŸ‡¬" },
                { name: "ë£¨ë§ˆë‹ˆì•„", capital: "ë¶€ì¿ ë ˆìŠˆí‹°", flag: "ğŸ‡·ğŸ‡´" },
                { name: "ì„¸ë¥´ë¹„ì•„", capital: "ë² ì˜¤ê·¸ë¼ë“œ", flag: "ğŸ‡·ğŸ‡¸" },
                { name: "ëª¬í…Œë„¤ê·¸ë¡œ", capital: "í¬ë“œê³ ë¦¬ì°¨", flag: "ğŸ‡²ğŸ‡ª" },
                { name: "ë³´ìŠ¤ë‹ˆì•„í—¤ë¥´ì²´ê³ ë¹„ë‚˜", capital: "ì‚¬ë¼ì˜ˆë³´", flag: "ğŸ‡§ğŸ‡¦" },
                { name: "ë¶ë§ˆì¼€ë„ë‹ˆì•„", capital: "ìŠ¤ì½”í˜", flag: "ğŸ‡²ğŸ‡°" },
                { name: "ì•Œë°”ë‹ˆì•„", capital: "í‹°ë¼ë‚˜", flag: "ğŸ‡¦ğŸ‡±" },
                { name: "ëª°ë„ë°”", capital: "í‚¤ì‹œë„ˆìš°", flag: "ğŸ‡²ğŸ‡©" },
                { name: "ë²¨ë¼ë£¨ìŠ¤", capital: "ë¯¼ìŠ¤í¬", flag: "ğŸ‡§ğŸ‡¾" },
                { name: "ì¡°ì§€ì•„", capital: "íŠ¸ë¹Œë¦¬ì‹œ", flag: "ğŸ‡¬ğŸ‡ª" },
                { name: "ì•„ë¥´ë©”ë‹ˆì•„", capital: "ì˜ˆë ˆë°˜", flag: "ğŸ‡¦ğŸ‡²" },
                { name: "ì•„ì œë¥´ë°”ì´ì”", capital: "ë°”ì¿ ", flag: "ğŸ‡¦ğŸ‡¿" },
                { name: "í‚¤ë¥´ê¸°ìŠ¤ìŠ¤íƒ„", capital: "ë¹„ìŠˆì¼€í¬", flag: "ğŸ‡°ğŸ‡¬" },
                { name: "íƒ€ì§€í‚¤ìŠ¤íƒ„", capital: "ë‘ìƒ¨ë² ", flag: "ğŸ‡¹ğŸ‡¯" },
                { name: "íˆ¬ë¥´í¬ë©”ë‹ˆìŠ¤íƒ„", capital: "ì•„ì‹œê°€ë°”íŠ¸", flag: "ğŸ‡¹ğŸ‡²" },
                { name: "ë¶€íƒ„", capital: "íŒ€í‘¸", flag: "ğŸ‡§ğŸ‡¹" },
                { name: "ë¸Œë£¨ë‚˜ì´", capital: "ë°˜ë‹¤ë¥´ìŠ¤ë¦¬ë¸Œê°€ì™„", flag: "ğŸ‡§ğŸ‡³" },
                { name: "íŒŒí‘¸ì•„ë‰´ê¸°ë‹ˆ", capital: "í¬íŠ¸ëª¨ë¥´ì¦ˆë¹„", flag: "ğŸ‡µğŸ‡¬" },
                { name: "í”¼ì§€", capital: "ìˆ˜ë°”", flag: "ğŸ‡«ğŸ‡¯" },
                { name: "íŒ”ë¼ìš°", capital: "ëŠê±°ë£°ë¬´ë“œ", flag: "ğŸ‡µğŸ‡¼" },
                { name: "ë§ˆì…œì œë„", capital: "ë§ˆì£¼ë¡œ", flag: "ğŸ‡²ğŸ‡­" },
                { name: "ë¯¸í¬ë¡œë„¤ì‹œì•„", capital: "íŒ”ë¦¬í‚¤ë¥´", flag: "ğŸ‡«ğŸ‡²" },
                { name: "ë‚˜ìš°ë£¨", capital: "ì•¼ë Œ", flag: "ğŸ‡³ğŸ‡·" },
                { name: "í‚¤ë¦¬ë°”ì‹œ", capital: "íƒ€ë¼ì™€", flag: "ğŸ‡°ğŸ‡®" },
                { name: "íˆ¬ë°œë£¨", capital: "í‘¸ë‚˜í‘¸í‹°", flag: "ğŸ‡¹ğŸ‡»" },
                { name: "í†µê°€", capital: "ëˆ„ì¿ ì•Œë¡œíŒŒ", flag: "ğŸ‡¹ğŸ‡´" },
                { name: "ì‚¬ëª¨ì•„", capital: "ì•„í”¼ì•„", flag: "ğŸ‡¼ğŸ‡¸" },
                { name: "ë°”ëˆ„ì•„íˆ¬", capital: "í¬íŠ¸ë¹Œë¼", flag: "ğŸ‡»ğŸ‡º" },
                { name: "ì†”ë¡œëª¬ì œë„", capital: "í˜¸ë‹ˆì•„ë¼", flag: "ğŸ‡¸ğŸ‡§" },
                { name: "ì½”ëª¨ë¡œ", capital: "ëª¨ë¡œë‹ˆ", flag: "ğŸ‡°ğŸ‡²" },
                { name: "ë§ˆë‹¤ê°€ìŠ¤ì¹´ë¥´", capital: "ì•ˆíƒ€ë‚˜ë‚˜ë¦¬ë³´", flag: "ğŸ‡²ğŸ‡¬" },
                { name: "ëª¨ë¦¬ì…”ìŠ¤", capital: "í¬íŠ¸ë£¨ì´ìŠ¤", flag: "ğŸ‡²ğŸ‡º" },
                { name: "ì„¸ì´ì…¸", capital: "ë¹…í† ë¦¬ì•„", flag: "ğŸ‡¸ğŸ‡¨" }
            ]
        };

        // ê²Œì„ ìƒíƒœ
        let currentGame = '';
        let currentDifficulty = '';
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let mistakes = 0;
        let questionsAnswered = 0;

        function selectGame(gameType) {
            currentGame = gameType;
            document.querySelector('.game-selection').classList.remove('active');
            document.querySelector('.difficulty-selection').classList.add('active');
        }

        function selectDifficulty(difficulty) {
            currentDifficulty = difficulty;
            startGame();
        }

        function startGame() {
            // ê²Œì„ ì´ˆê¸°í™”
            score = 0;
            mistakes = 0;
            questionsAnswered = 0;
            currentQuestionIndex = 0;

            // ë¬¸ì œ ì¤€ë¹„
            const difficultyData = currentDifficulty === 'easy' ? gameData.easy : 
                                 currentDifficulty === 'medium' ? gameData.medium : 
                                 gameData.hard;
            
            currentQuestions = [...difficultyData].sort(() => Math.random() - 0.5);

            // í™”ë©´ ì „í™˜
            document.querySelector('.difficulty-selection').classList.remove('active');
            document.querySelector('.game-area').classList.add('active');

            // ì²« ë¬¸ì œ í‘œì‹œ
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                currentQuestionIndex = 0; // ë¬¸ì œ ìˆœí™˜
            }

            const question = currentQuestions[currentQuestionIndex];
            const questionContent = document.getElementById('question-content');
            
            // ì ìˆ˜ ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('score').textContent = score;
            document.getElementById('mistakes').textContent = mistakes;
            document.getElementById('question-number').textContent = questionsAnswered + 1;

            // ë¬¸ì œ í‘œì‹œ
            let content = '';
            if (currentGame === 'flag-to-country') {
                content = `
                    <div class="flag">${question.flag}</div>
                    <div class="question">ì´ êµ­ê¸°ëŠ” ì–´ëŠ ë‚˜ë¼ì˜ êµ­ê¸°ì¼ê¹Œìš”?</div>
                `;
            } else if (currentGame === 'country-to-capital') {
                content = `
                    <div class="question">${question.name}ì˜ ìˆ˜ë„ëŠ”?</div>
                `;
            } else if (currentGame === 'capital-to-country') {
                content = `
                    <div class="question">${question.capital}ì€(ëŠ”) ì–´ëŠ ë‚˜ë¼ì˜ ìˆ˜ë„ì¼ê¹Œìš”?</div>
                `;
            }

            questionContent.innerHTML = content;
            
            // ì…ë ¥ì°½ ì´ˆê¸°í™” ë° í¬ì»¤ìŠ¤
            const answerInput = document.getElementById('answer-input');
            answerInput.value = '';
            answerInput.focus();
            
            // í”¼ë“œë°± ì´ˆê¸°í™”
            document.getElementById('feedback').innerHTML = '';
        }

        function submitAnswer() {
            const userAnswer = document.getElementById('answer-input').value.trim();
            if (!userAnswer) return;

            const question = currentQuestions[currentQuestionIndex];
            let correctAnswer = '';
            
            if (currentGame === 'flag-to-country') {
                correctAnswer = question.name;
            } else if (currentGame === 'country-to-capital') {
                correctAnswer = question.capital;
            } else if (currentGame === 'capital-to-country') {
                correctAnswer = question.name;
            }

            const isCorrect = userAnswer === correctAnswer;
            showFeedback(isCorrect, correctAnswer);

            if (isCorrect) {
                const points = currentDifficulty === 'hard' ? 30 : 
                              currentDifficulty === 'medium' ? 20 : 10;
                score += points;
            } else {
                mistakes++;
                if (mistakes >= 3) {
                    endGame();
                    return;
                }
            }

            questionsAnswered++;
            currentQuestionIndex = (currentQuestionIndex + 1) % currentQuestions.length;
            
            setTimeout(() => {
                showQuestion();
            }, 2000);
        }

        function skipQuestion() {
            mistakes++;
            showFeedback(false, getCurrentAnswer());
            
            if (mistakes >= 3) {
                endGame();
                return;
            }

            questionsAnswered++;
            currentQuestionIndex = (currentQuestionIndex + 1) % currentQuestions.length;
            
            setTimeout(() => {
                showQuestion();
            }, 2000);
        }

        function getCurrentAnswer() {
            const question = currentQuestions[currentQuestionIndex];
            if (currentGame === 'flag-to-country') {
                return question.name;
            } else if (currentGame === 'country-to-capital') {
                return question.capital;
            } else if (currentGame === 'capital-to-country') {
                return question.name;
            }
        }

        function showFeedback(isCorrect, correctAnswer) {
            const feedback = document.getElementById('feedback');
            if (isCorrect) {
                const points = currentDifficulty === 'hard' ? 30 : 
                              currentDifficulty === 'medium' ? 20 : 10;
                feedback.innerHTML = `<div class="feedback correct">ì •ë‹µ! +${points}ì </div>`;
            } else {
                feedback.innerHTML = `<div class="feedback incorrect">í‹€ë ¸ìŠµë‹ˆë‹¤. ì •ë‹µ: ${correctAnswer}</div>`;
            }
        }

        function endGame() {
            const gameArea = document.querySelector('.game-area');
            gameArea.innerHTML = `
                <div class="game-over">
                    <h2>ğŸ® ê²Œì„ ì¢…ë£Œ!</h2>
                    <div class="final-score">${score}ì </div>
                    <p>ì´ ${questionsAnswered}ë¬¸ì œ ì¤‘ ${questionsAnswered - mistakes}ë¬¸ì œë¥¼ ë§ì¶”ì…¨ìŠµë‹ˆë‹¤!</p>
                    <button class="button" onclick="goToMenu()" style="background: white; color: #333; margin-top: 20px;">
                        ë‹¤ì‹œ ì‹œì‘í•˜ê¸°
                    </button>
                </div>
            `;
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                submitAnswer();
            }
        }

        function goBack() {
            document.querySelector('.difficulty-selection').classList.remove('active');
            document.querySelector('.game-selection').classList.add('active');
        }

        function goToMenu() {
            // ëª¨ë“  í™”ë©´ ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.game-selection, .difficulty-selection, .game-area').forEach(el => {
                el.classList.remove('active');
            });
            
            // ê²Œì„ ì„ íƒ í™”ë©´ í‘œì‹œ
            document.querySelector('.game-selection').classList.add('active');
            
            // ê²Œì„ ì˜ì—­ ì´ˆê¸°í™” (ê²Œì„ ì¢…ë£Œ í›„ ë‹¤ì‹œ ì‹œì‘í•  ë•Œ)
            const gameArea = document.querySelector('.game-area');
            if (gameArea.innerHTML.includes('game-over')) {
                location.reload(); // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ ì™„ì „ ì´ˆê¸°í™”
            }
        }
    </script>
</body>
</html>